{% extends 'base.html' %}
{% block content %}

<!-- header -->
<form method="POST" action="/roster">
  <div>
    <h3><b>{{ name }} - {{ year }}</b></h3>
  </div>
  <div>
    <p>back to -> <a href="{{ url_for('roster') }}"><input class="text-white button staat" type="submit" id="team" name="team" value="{{ player_info.iloc[0]['team'] }}"/></a></p>
  </div>
</form>

<!-- profile section including photo -->
<div class="{{ team_colour }}">
  <div class="mobile">
    <div class="{{ team_colour }}">
      <div class="box center">
        <img src="static/images/players/{{ year }}/{{ player_info.iloc[0]['image'] }}" alt="{{ player_info.iloc[0]['name'] }}" style="max-width:60%;">
      </div>
      <div class="textcenter xxfont" style="width:100%;">
        <a>{{ position }}</a>
      </div>
      <div class="spacer"></div>
      <div>
        <canvas id="playerRadarMobile"></canvas>
        <!--img src="static/images/{{ year }}/player_graphs/{{ radar }}" alt="player radar" style="max-width:50%;float:left"-->
      </div>
      <div>
        <canvas id="playerLineMobile"></canvas>
        <!--img src="static/images/{{ year }}/player_graphs/{{ graph }}" alt="player performance" style="max-width:50%"-->
      </div>
    </div>

    <table>
      <tr>
        <td><a><img src="static/images/flags/{{ player_info.iloc[0]['flag'] }}" alt="{{ player_info.iloc[0]['flag'][:-4] }}" style="max-height:30px"><a></td>
        <td>{{ nationality }}</td>
        <td>{{ stats90.iloc[0]['overall'] }}**</td>
      </tr>
      <tr>
        <td>MIN: {{ stats90.iloc[0]['Min'] }}</td>
        <td>xG: {{ stats.iloc[0]['ExpG'] }}**</td>
        <td>xA: {{ stats.iloc[0]['ExpA'] }}**</td>
      </tr>
      <tr>
        <td>Yellows: {{ discipline.iloc[0]['yellow'] }}</td>
        <td>Reds: {{ discipline.iloc[0]['red'] }}</td>
        <td>Number: {{ stats.iloc[0]['number'] }}</td>
      </tr>
    </table>

  <!-- table section -->
    <div class="parent">
      <div class="{{ team_colour }}-2" style="width:100%;">
        <h3>Rolling Statistics</h3>
      </div>
      <div class="parent">
        <div  class="{{ team_colour }}-2">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats.columns[ 2 : col_nums[0] ] %}
                <td>{{ column[:4] }}</td>
              {% endfor %}
            </tr>
          </table>
        </div>
        <div class="{{ theme }}-light">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats.columns[ 2 : col_nums[0] ] %}
                {% if (column == 'overall' or column == 'ExpG' or column == 'ExpA')%}
                <td>{{ stats.iloc[0][column] }}</td>
                {% else %}
                <td>{{ stats.iloc[0][column]|int }}</td>
                {% endif %}
              {% endfor %}
            </tr>
          </table>
        </div>
      </div>
      <div class="parent">
        <div  class="{{ team_colour }}-2">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats.columns[ col_nums[0] :-2] %}
                <td>{{ column[:4] }}</td>
              {% endfor %}
            </tr>
          </table>
        </div>
        <div class="{{ theme }}-light">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats.columns[ col_nums[0] :-2] %}
                {% if (column == 'overall' or column == 'ExpG' or column == 'ExpA')%}
                <td>{{ stats.iloc[0][column] }}</td>
                {% else %}
                <td>{{ stats.iloc[0][column]|int }}</td>
                {% endif %}
              {% endfor %}
            </tr>
          </table>
        </div>
      </div>
      <div class="{{ team_colour }}-2" style="width:100%;">
        <h3>Rolling Statistics Per 90</h3>
      </div>
      <div class="parent">
        <div  class="{{ team_colour }}-2">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats90.columns[ 3 : col_nums[0] ] %}
                <td>{{ column[:4] }}</td>
              {% endfor %}
            </tr>
          </table>
        </div>
        <div class="{{ theme }}-light">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats90.columns[ 3 : col_nums[0] ] %}
                {% if column == 'Min'%}
                <td>per{{ stats90.iloc[0][column] }}</td>
                {% else %}
                <td>{{ stats90.iloc[0][column] }}</td>
                {% endif %}
              {% endfor %}
            </tr>
          </table>
        </div>
      </div>
      <div class="parent">
        <div class="{{ team_colour }}-2">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats90.columns[ col_nums[0] :-2] %}
                <td>{{ column[:4] }}</td>
              {% endfor %}
            </tr>
          </table>
        </div>
        <div class="{{ theme }}-light">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats90.columns[ col_nums[0] :-2] %}
                {% if column == 'Min'%}
                <td>per{{ stats90.iloc[0][column] }}</td>
                {% else %}
                <td>{{ stats90.iloc[0][column] }}</td>
                {% endif %}
              {% endfor %}
            </tr>
          </table>
        </div>
      </div>
    </div>
  <!-- END table section -->
</div>

<div class="desktop">
  <div class="parent {{ team_colour }}">
    <div class="boxs center">
      <img src="static/images/players/{{ year }}/{{ player_info.iloc[0]['image'] }}" alt="{{ player_info.iloc[0]['name'] }}" style="max-width:60%">
    </div>
    <div class="box">
      <br>
      <canvas id="playerRadar"></canvas>
      <!--img src="static/images/{{ year }}/player_graphs/{{ radar }}" alt="player radar" style="max-width:70%"-->
    </div>
    <div class="box">
      <br>
      <canvas id="playerLine" style="padding: 20px 20px;"></canvas>
      <!--img src="static/images/{{ year }}/player_graphs/{{ graph }}" alt="player performance" style="max-width:70%"-->
    </div>
  </div>

  <table>
    <tr>
      <td><a><img src="static/images/flags/{{ player_info.iloc[0]['flag'] }}" alt="{{ player_info.iloc[0]['flag'][:-4] }}" style="max-height:30px"><a></td>
      <td>{{ nationality }}</td>
      <td>{{ stats.iloc[0]['overall'] }}**</td>
      <td>MIN: {{ stats.iloc[0]['Min']|int }}</td>
      <td>xG: {{ stats90.iloc[0]['ExpG'] }}**</td>
      <td>xA: {{ stats90.iloc[0]['ExpA'] }}**</td>
      <td>Y: {{ discipline.iloc[0]['Yellow'] }}</td>
      <td>R: {{ discipline.iloc[0]['Red'] }}</td>
      <td>2ndY: {{ discipline.iloc[0]['2ndYellow'] }}</td>
      <td>#: {{ number }}</td>
      <td>{{ position }}</td>
    </tr>
  </table>

  <!-- table section -->
    <div class="parent {{ team_colour }}">
      <div  class="{{ team_colour }}-2" style="width:100%;">
        <h3>Rolling Statistics</h3>
      </div>
      <div class="parent">
        <div  class="{{ team_colour }}-2">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats.columns[ 3 :-2 ] %}
                <td>{{ column[:6] }}</td>
              {% endfor %}
            </tr>
          </table>
        </div>
        <div class="{{ theme }}-light">
          <table>
            <tr>
              {% for column in stats.columns[ 3 :-2 ] %}
                {% if (column == 'overall' or column == 'ExpG' or column == 'ExpA')%}
                <td>{{ stats.iloc[0][column] }}</td>
                {% else %}
                <td>{{ stats.iloc[0][column]|int }}</td>
                {% endif %}
              {% endfor %}
            </tr>
          </table>
        </div>
      </div>
      <div  class="{{ team_colour }}-2" style="width:100%;">
        <h3>Rolling Statistics Per 90</h3>
      </div>
      <div class="parent">
        <div class="{{ team_colour }}-2">
          <table style="font-size:0.8em;">
            <tr>
              {% for column in stats90.columns[ 3 :-2] %}
                <td>{{ column[:6] }}</td>
              {% endfor %}
            </tr>
          </table>
        </div>
        <div class="{{ theme }}-light">
          <table>
            <tr>
              {% for column in stats90.columns[ 3 :-2] %}
                {% if column == 'Min'%}
                <td>per{{ stats90.iloc[0][column] }}</td>
                {% else %}
                <td>{{ stats90.iloc[0][column] }}</td>
                {% endif %}
              {% endfor %}
            </tr>
          </table>
        </div>
      </div>
    </div>
  <!-- END table section -->
</div>

  <div class=" {{ team_colour }}" style="width:100%;">
    <div class="spacer"></div>
    <div style="text-align:right; padding: 0px 15px;">
      <a class="text-white button" href="{{ player_info.iloc[0]['link'] }}" target="_blank"><b> Wiki Link</b></a>
    </div>
    <div class="mobile">
      <a style="font-size:0.7em;">**NOTE: Overall, xG & xA are rolling results. Altered after each match played.</a>
    </div>
    <div class="desktop">
      <a style=" padding: 0px 15px;">**NOTE: Overall, xG & xA are rolling results. Altered after each match played.</a>
    </div>
    <div class="spacer"></div>
  </div>
  <!-- end of graph and table section -->
</div>


  {% endblock %}
